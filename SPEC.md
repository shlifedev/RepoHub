# 리포지토리 관리 프로그램

현재 이미 View는 유니티 허브 스타일의 디자인으로 작성되어있습니다. 이미 작성된 현재 뷰 양식을 최대한 벗어나지마세요. 하지만 필요한 기능이 있으면 언제든지 수정해도 되지만 사용자에게 알려야합니다.

## 필수 구현 기능

아래는 필수 구현 기능입니다.

### Setting 탭 구현사항 
- 부모경로 지정 :  Add Repository를 위해 사용자는 Settings에서 리포지토리를 관리할 루트 경로를 설정해야합니다.

### Add Repository 기능

- Add Repository 버튼을 누르면 Repository를 추가할 수 있는 View가 나타납니다.
- 해당 관련된 다음과 같은 입력 필드가 포함되어야 합니다:
  - Repository Name (텍스트 입력) -> 이게 사실상 Display Name 이자, 폴더 이름입니다. 따라서 Repository Name은 반드시 영어로 작성되어야하며 알파벳,숫자,언더바,대시만 포함해야합니다. 그 외 문자열은 안정성을 위해 허용되지 않습니다.
  - Repository URL (텍스트 입력) -> git repository URL입니다. 

사용자가 Add Repository를 하면 자동으로 Clone을 받아야합니다. Clone을 받는동안에는 사용자에게 진행 상황을 표시해야합니다. (예: Progress Bar) 

사용자가 Clone 도중 프로그램을 종료할 수 있으니 임시폴더에 Clone을 받은 후 완료되면 실제 경로로 옮기는 안전성 처리가 필요할 수 있습니다.

### Repository Item

리포지토리 이름, 로컬 경로, 원격 URL, 현재 버전태그, 마지막 동기화 시간 등을 표시해야합니다.

- 사용자가 추가한 리포지토리의 최신 버전태그 10개를 가져와야합니다. (모든걸 가져오기엔 너무 많으므로) 이를 드롭다운으로 표현 할 것입니다.

- 버전 태그에는 여러 문자열이 있지만 `dev` `qa` 라는 텍스트가 일반적으로 포함되어있습니다. 버전 (1.0.0, 1.0.2, 1.0) 같은 텍스트가 있습니다. 이를 사용자에게 `dev-1.0.0` 처럼 간략하게 표기해주세요. `dev` `qa`가 없는 다른 태그는 표시 할 필요가 없습니다.

- 사용자가 드롭다운에서 버전을 변경하면 해당 커밋 해시로 이동합니다. 모든 변경사항은 `discard` 되며 사용자에게 '모든 변경사항이 사라집니다.' 라는 메세지를 반드시 보여줘야합니다. 

- 사용자가 수동으로 최신기록을 볼 수 있도록 `Refresh` 버튼을 추가하세요. 마지막 동기화 시간도 표기하세요

- Repository Item  가장 우측에는 햄버거 메뉴를 구현해야합니다.

햄버거 메뉴를 열면 다음이 나타나야합니다

- 삭제 버튼: 사용자가 리포지토리를 삭제할 수 있습니다. (로컬 폴더도 함께 삭제됩니다.)



## View 요청사항

- 현재 뷰는 `src` 폴더에 `svelte`로 구현되어있으며 사용자가 원하는 뷰의 특징이 이미 두드러져있습니다. 따라서 최대한 현재 틀을 벗어나지 말아야합니다.
- 필요에 따라 수정할 수 있습니다. 하지만 사용자에게 미리 알려야합니다.

---

## 추가 구현 사항 (2026-01-16)

### 버전 태그 중복 제거
- 동일한 버전(예: `dev-1.4.19`)이 여러 태그에 존재할 경우, 가장 최신 태그 하나만 표시
- `HashSet`을 사용하여 display name 기준으로 중복 제거

### dev-latest, qa-latest 브랜치 옵션
- 드롭다운 맨 위에 `dev-latest`, `qa-latest` 옵션 추가
- remote origin에 해당 브랜치(dev, qa)가 존재하는 경우에만 표시
- 선택 시 해당 브랜치로 체크아웃 + pull (최신 상태 유지)

### 버전 변경 로딩 상태
- 버전 변경 중 UI 인터랙션 비활성화
- 로딩 스피너 및 "버전을 변경하는 중입니다..." 메시지 표시
- 변경 완료 전까지 Cancel 버튼 포함 모든 버튼 비활성화

### i18n (다국어 지원)
- `svelte-i18n` 라이브러리 사용
- 지원 언어: English, 한국어, 日本語, 简体中文, 繁體中文
- locale 파일 위치: `src/lib/i18n/locales/*.json`
- Settings 페이지에서 언어 변경 가능 (localStorage에 저장)
- **새로운 View 추가 시 반드시 i18n 적용 필요**:
  1. 모든 UI 텍스트는 하드코딩하지 않고 `$_("key")` 형식으로 작성
  2. 새로운 키는 모든 locale 파일(en, ko, ja, zh-CN, zh-TW)에 추가
  3. View 상단에 `import { _, isLoading } from "svelte-i18n"` 및 `import "$lib/i18n"` 추가
